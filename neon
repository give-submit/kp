<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title></title>
<style>
/* ================= GLOBAL / BACKGROUND ANIM ================= */
:root{
  --neon1: #00eaff;
  --neon2: #ff00ff;
  --neon3: #00ff88;
  --neon4: #ff00aa;
  --neon5: #aaff00;
  --bg-dark: #050011;
  --glow-intensity: 0.8;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: 'Orbitron', 'Rajdhani', 'Segoe UI', system-ui, -apple-system, sans-serif;
  background: var(--bg-dark);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  color:#eaeaea;
  overflow:hidden;
  display:flex;
  flex-direction:column;
}

/* animated full-screen background with enhanced cyberpunk feel */
body::before{
  content:"";
  position:fixed; inset:0;
  background:
    radial-gradient(circle at 12% 18%, rgba(255,0,255,0.15), transparent 12%),
    radial-gradient(circle at 88% 82%, rgba(0,255,255,0.12), transparent 12%),
    radial-gradient(circle at 50% 50%, rgba(170,255,0,0.05), transparent 50%),
    linear-gradient(180deg, rgba(8,4,20,1) 0%, rgba(2,0,10,1) 100%);
  mix-blend-mode:screen;
  transform-origin:center;
  animation: bgMove 22s linear infinite;
  z-index:0;
}
@keyframes bgMove{
  0%{transform:scale(1) translateY(0)}
  50%{transform:scale(1.08) translateY(-60px)}
  100%{transform:scale(1) translateY(0)}
}

/* enhanced scanlines with glitch effect */
body::after{
  content:""; position:fixed; inset:0;
  background:
    repeating-linear-gradient(transparent, transparent 3px, rgba(255,255,255,0.02) 3px, rgba(255,255,255,0.02) 4px),
    repeating-linear-gradient(90deg, transparent, transparent 3px, rgba(255,255,255,0.01) 3px, rgba(255,255,255,0.01) 4px);
  opacity:0.12; pointer-events:none; mix-blend-mode:overlay; z-index:1;
  animation: scan 3.5s linear infinite, glitch 8s infinite;
}
@keyframes scan{0%{transform:translateY(-5%)}100%{transform:translateY(5%)}}
@keyframes glitch{
  0%, 100% {opacity: 0.12;}
  92% {opacity: 0.12;}
  93% {opacity: 0.3;}
  94% {opacity: 0.12;}
  97% {opacity: 0.12;}
  98% {opacity: 0.4;}
  99% {opacity: 0.12;}
}

/* ================= OVERLAY & LOCKER ================= */
.locker-overlay{
  position:fixed; inset:0;
  display:flex; align-items:center; justify-content:center;
  background:rgba(2,0,10,0.85);
  backdrop-filter: blur(15px);
  z-index:1000;
  padding:24px;
  transition: all 0.5s ease;
}

/* main box with enhanced cyberpunk styling */
#my-locker{
  position:relative;
  width:100%;
  max-width:480px;
  border-radius:20px;
  padding:28px 20px 26px;
  text-align:center;
  background: linear-gradient(180deg, rgba(20,8,40,0.92), rgba(6,2,20,0.88));
  border: 2px solid rgba(255,255,255,0.03);
  box-shadow:
    0 12px 40px rgba(0,0,0,0.7),
    0 0 22px rgba(0,0,0,0.4),
    inset 0 0 40px rgba(0,255,255,0.03);
  z-index:1001;
  overflow:visible;
  animation: popIn .45s cubic-bezier(.2,1.2,.3,1) forwards;
}

/* enhanced holo border pulse with more colors */
@keyframes holoBlink {
  0%   { box-shadow: 0 0 14px rgba(0,234,255,0.18), inset 0 0 22px rgba(255,0,255,0.06); border-color: rgba(0,234,255,0.24); }
  25%  { box-shadow: 0 0 22px rgba(255,0,255,0.18), inset 0 0 28px rgba(0,255,136,0.04); border-color: rgba(255,0,255,0.26); }
  50%  { box-shadow: 0 0 26px rgba(0,255,136,0.18), inset 0 0 20px rgba(0,234,255,0.04); border-color: rgba(0,255,136,0.24); }
  75%  { box-shadow: 0 0 20px rgba(255,0,170,0.16), inset 0 0 26px rgba(0,234,255,0.06); border-color: rgba(255,0,170,0.22); }
  100% { box-shadow: 0 0 14px rgba(170,255,0,0.18), inset 0 0 22px rgba(255,0,255,0.06); border-color: rgba(170,255,0,0.24); }
}
#my-locker{ animation: holoBlink 2.6s infinite linear, popIn .45s cubic-bezier(.2,1.2,.3,1) }

/* ================= HEADER (always center) ================= */
#my-locker-top{ display:flex; flex-direction:column; align-items:center; justify-content:center; gap:8px; margin-bottom:16px; z-index:2; }

#my-locker-top svg{
  width:72px; height:72px;
  filter: drop-shadow(0 0 10px var(--neon2)) drop-shadow(0 0 20px var(--neon1));
  transform-origin:center;
  animation: floatLock 3.2s ease-in-out infinite;
}
@keyframes floatLock{0%{transform:translateY(0)}50%{transform:translateY(-8px)}100%{transform:translateY(0)}}

#my-locker-top h2{
  margin:0; font-size:20px; color:#fff; font-weight:800;
  letter-spacing:0.8px;
  text-shadow: 0 0 10px var(--neon2), 0 0 18px var(--neon1);
  animation: glitchTitle 1.6s steps(6, end) infinite;
}
#my-locker-top p{ margin:0; font-size:13px; color: #cfcfcf; opacity:0.92; text-align:center; }

/* enhanced glitch title effect */
@keyframes glitchTitle{
  0%{text-shadow: 2px 0 var(--neon2), -2px 0 var(--neon1);}
  25%{text-shadow: -2px -1px var(--neon4), 2px 1px var(--neon3);}
  50%{text-shadow: 2px 1px var(--neon5), -2px -1px var(--neon2);}
  75%{text-shadow: -2px 0 var(--neon1), 2px 0 var(--neon4);}
  100%{text-shadow: 2px 0 var(--neon2), -2px 0 var(--neon1);}
}

/* ================= SLIDER CONTAINER ================= */
.slider-container {
  position: relative;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ================= NAVIGATION BUTTONS ================= */
.nav-button {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: rgba(10,6,30,0.8);
  border: 2px solid var(--neon1);
  color: var(--neon1);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 10;
  transition: all 0.3s ease;
  box-shadow: 0 0 10px rgba(0,234,255,0.5);
}

.nav-button:hover {
  background: rgba(0,234,255,0.2);
  box-shadow: 0 0 15px rgba(0,234,255,0.8);
  transform: translateY(-50%) scale(1.1);
}

.nav-button:active {
  transform: translateY(-50%) scale(0.95);
}

.nav-button.prev {
  left: -20px;
}

.nav-button.next {
  right: -20px;
}

.nav-button svg {
  width: 20px;
  height: 20px;
  fill: none;
  stroke: currentColor;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

/* ================= SLIDER (offers) ================= */
.offer-slider{
  display:flex; gap:18px; padding:20px 10px 8px;
  overflow-x:hidden; /* Changed from auto to hidden to control with buttons */
  scroll-snap-type:x mandatory; -webkit-overflow-scrolling:touch;
  scrollbar-width:none; margin-top:6px; z-index:2;
  position:relative;
  transition: scroll-left 0.3s ease;
}
.offer-slider::-webkit-scrollbar{display:none}

/* enhanced slider indicators */
.offer-slider::before,
.offer-slider::after{
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  width: 40px;
  z-index: 10;
  pointer-events: none;
}
.offer-slider::before{
  left: 0;
  background: linear-gradient(90deg, rgba(5,0,17,0.9), transparent);
}
.offer-slider::after{
  right: 0;
  background: linear-gradient(270deg, rgba(5,0,17,0.9), transparent);
}

/* enhanced card style with more cyberpunk elements */
.offer-card{
  scroll-snap-align:center;
  flex:0 0 78%;
  min-width:240px;
  border-radius:14px;
  padding:16px;
  background: linear-gradient(180deg, rgba(10,6,30,0.9), rgba(10,4,20,0.7));
  border:1px solid rgba(255,255,255,0.04);
  color:#f0f0f0; text-decoration:none;
  box-shadow:
    0 10px 30px rgba(0,0,0,0.6),
    0 0 22px rgba(0,234,255,0.06),
    inset 0 0 22px rgba(255,0,255,0.03);
  position:relative;
  transition:transform .28s cubic-bezier(.2,.9,.2,1), box-shadow .28s;
  display:flex; flex-direction:column; justify-content:space-between;
  min-height:140px;
  z-index:2;
  cursor:pointer;
  -webkit-tap-highlight-color:transparent;
  overflow:hidden;
}

/* enhanced hover effect with color transition */
.offer-card:hover{ 
  transform:translateY(-10px) scale(1.02); 
  box-shadow: 0 20px 50px rgba(0,0,0,0.75), 0 0 40px rgba(255,0,255,0.12);
  border-color: rgba(0,234,255,0.3);
}

/* card corner decorations */
.offer-card::before,
.offer-card::after{
  content: "";
  position: absolute;
  width: 20px;
  height: 20px;
  border: 2px solid;
  z-index: 3;
}
.offer-card::before{
  top: 5px;
  left: 5px;
  border-right: none;
  border-bottom: none;
  border-color: rgba(0,234,255,0.5);
}
.offer-card::after{
  bottom: 5px;
  right: 5px;
  border-left: none;
  border-top: none;
  border-color: rgba(255,0,255,0.5);
}

/* enhanced tag with animation */
.offer-card .tag{
  position:absolute; top:10px; right:10px;
  padding:6px 10px; border-radius:12px; font-weight:700; font-size:11px;
  background: linear-gradient(90deg, rgba(255,0,255,0.12), rgba(0,234,255,0.08));
  color:#fff; border:1px solid rgba(255,255,255,0.06);
  text-shadow: 0 0 6px rgba(255,0,255,0.08);
  z-index:3;
  animation: tagPulse 2s infinite;
}
@keyframes tagPulse{
  0%, 100% {opacity: 0.8;}
  50% {opacity: 1;}
}

/* content styling */
.offer-card h3{ 
  margin:8px 0 4px; 
  font-size:16px; 
  line-height:1.05; 
  color: #fff;
  text-shadow: 0 0 5px rgba(255,255,255,0.2);
}
.offer-card p{ 
  margin:0; 
  font-size:13px; 
  color:#d3d3d3; 
  opacity:0.95;
}

/* enhanced button with animation */
.btn-action{
  margin-top:12px; 
  padding:10px 12px; 
  border-radius:10px;
  background: linear-gradient(90deg,var(--neon2),var(--neon1));
  color:#0b0011; 
  font-weight:800; 
  display:inline-block;
  text-align:center; 
  box-shadow: 0 0 18px rgba(0,234,255,0.12), 0 0 18px rgba(255,0,255,0.12);
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

/* button shine effect */
.btn-action::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  transition: left 0.5s ease;
}
.offer-card:hover .btn-action::before {
  left: 100%;
}

/* enhanced neon line bottom for depth */
.offer-card::after{
  content:""; 
  position:absolute; 
  left:8px; 
  right:8px; 
  bottom:8px; 
  height:2px;
  background: linear-gradient(90deg, rgba(255,0,255,0.45), rgba(0,234,255,0.45));
  border-radius:2px; 
  opacity:0.9;
}

/* swipe indicator */
.swipe-indicator {
  display: flex;
  justify-content: center;
  margin-top: 10px;
  gap: 6px;
}
.swipe-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: rgba(255,255,255,0.3);
  transition: all 0.3s ease;
}
.swipe-dot.active {
  background: var(--neon1);
  box-shadow: 0 0 5px var(--neon1);
}

/* ================= FOOTER ================= */
.locker-footer {
  position: fixed;
  bottom: 5px;
  left: 5px;
  right: 5px;
  padding: 5px;
  background: rgba(10,6,30,0.9);
  backdrop-filter: blur(10px);
  border-top: 1px solid rgba(0,234,255,0.3);
  text-align: center;
  z-index: 999;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;

}

.countdown-container {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 5px;
}

.countdown-label {
  font-size: 14px;
  color: #cfcfcf;
  text-shadow: 0 0 5px rgba(255,255,255,0.2);
}

.countdown-timer {
  font-family: 'Orbitron', monospace;
  font-size: 18px;
  font-weight: 700;
  color: var(--neon1);
  text-shadow: 0 0 10px var(--neon1);
  min-width: 60px;
  display: inline-block;
}

.countdown-progress {
  width: 200px;
  height: 4px;
  background: rgba(255,255,255,0.1);
  border-radius: 2px;
  overflow: hidden;
  margin-top: 8px;
}

.countdown-progress-bar {
  height: 100%;
  background: linear-gradient(90deg, var(--neon2), var(--neon1));
  border-radius: 2px;
  transition: width 1s linear;
  box-shadow: 0 0 5px rgba(0,234,255,0.5);
}

/* ================= RESPONSIVE TWEAKS ================= */
@media(min-width:700px){
  #my-locker{ padding:34px; max-width:560px; }
  .offer-card{ flex:0 0 52%; min-width:320px; }
  .offer-slider{ gap:22px; }
  .nav-button.prev { left: -30px; }
  .nav-button.next { right: -30px; }
}

/* small screens */
@media(max-width:420px){
  #my-locker{ padding:20px 14px; border-radius:14px; }
  #my-locker-top svg{ width:60px;height:60px; }
  #my-locker-top h2{ font-size:18px }
  .nav-button {
    width: 35px;
    height: 35px;
  }
  .nav-button.prev { left: -15px; }
  .nav-button.next { right: -15px; }
  .countdown-progress {
    width: 150px;
  }
}

/* unlock transition for secret content */
#secret-content{ 
  transition: filter .5s ease, opacity .4s ease; 
  z-index:0; 
  position:relative; 
  padding:42px 18px; 
}
.hidden { display:none !important; }

/* loading animation */
.loading-spinner {
  display: inline-block;
  width: 20px;
  height: 20px;
  border: 3px solid rgba(255,255,255,0.3);
  border-radius: 50%;
  border-top-color: var(--neon1);
  animation: spin 1s ease-in-out infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* unlock animation */
.unlock-animation {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100px;
  height: 100px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(0,234,255,0.8) 0%, rgba(255,0,255,0.6) 50%, transparent 70%);
  z-index: 1002;
  animation: unlockPulse 0.8s ease-out forwards;
  pointer-events: none;
}
@keyframes unlockPulse {
  0% {
    width: 0;
    height: 0;
    opacity: 1;
  }
  100% {
    width: 300px;
    height: 300px;
    opacity: 0;
  }
}

/* notification toast */
.toast {
  position: fixed;
  bottom: 80px; /* Adjusted to account for footer */
  left: 50%;
  transform: translateX(-50%) translateY(100px);
  background: rgba(10,6,30,0.9);
  color: white;
  padding: 12px 24px;
  border-radius: 30px;
  border: 1px solid var(--neon1);
  box-shadow: 0 0 15px rgba(0,234,255,0.5);
  z-index: 2000;
  opacity: 0;
  transition: all 0.3s ease;
}
.toast.show {
  transform: translateX(-50%) translateY(0);
  opacity: 1;
}
</style>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>



<!-- overlay locker -->
<div class="locker-overlay" id="lockerOverlay" aria-hidden="false">
  <div id="my-locker" role="dialog" aria-modal="true" aria-labelledby="lockerTitle">
    <!-- header (centered) -->
    <div id="my-locker-top">
      <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
      </svg>
      <h2 id="lockerTitle">Giveaway Time</h2>
      <p>Swipe & Select one to open your gift</p>
    </div>

    <!-- slider container with navigation buttons -->
    <div class="slider-container">
      <!-- Previous button -->
      <button class="nav-button prev" id="prevBtn" aria-label="Previous offer">
        <svg viewBox="0 0 24 24">
          <polyline points="15 18 9 12 15 6"></polyline>
        </svg>
      </button>
      
      <!-- slider area -->
      <div class="offer-slider" id="offerSlider" aria-label="Penawaran">
        <div class="loading-spinner"></div>
      </div>
      
      <!-- Next button -->
      <button class="nav-button next" id="nextBtn" aria-label="Next offer">
        <svg viewBox="0 0 24 24">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </button>
    </div>
    
    <!-- swipe indicator -->
    <div class="swipe-indicator" id="swipeIndicator"></div>
    <!-- footer with countdown -->
<div class="locker-footer" id="lockerFooter">
  <div class="countdown-label">Waiting to complete</div>
  <div class="countdown-container">
    <span class="countdown-timer" id="countdownTimer">00:00</span>
  </div>
  <div class="countdown-progress">
    <div class="countdown-progress-bar" id="countdownProgress"></div>
  </div>
</div>
  </div>
</div>



<!-- notification toast -->
<div class="toast" id="toast"></div>

<!--translate-->
<div class="gtranslate_wrapper"></div>
<script>window.gtranslateSettings = {"default_language":"en","detect_browser_language":true,"languages":["en","fr","it","es","de","ja","id","ar"],"wrapper_selector":".gtranslate_wrapper","flag_size":16,"switcher_vertical_position":"top","switcher_text_color":"#f7f7f7","switcher_arrow_color":"#f2f2f2","switcher_border_color":"#161616","switcher_background_color":"#303030","switcher_background_shadow_color":"#474747","switcher_background_hover_color":"#3a3a3a","dropdown_text_color":"#eaeaea","dropdown_hover_color":"#748393","dropdown_background_color":"#474747"}</script>
<script src="https://cdn.gtranslate.net/widgets/latest/dwf.js" defer></script>


<!-- jQuery (old) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

<script>
/* ========== fetch offers and render ========== */
(function () {
  var feedUrl = "https://d2xohqmdyl2cj3.cloudfront.net/public/offers/feed.php?user_id=559174&api_key=3c236e072fc03e427160a12956725190&s1=&s2=&callback=?";
  var currentCardIndex = 0;
  var cardCount = 0;
  var sliderElement = null;
  var cardWidth = 0;
  var gapWidth = 18; // Gap between cards

  function renderOffers(offers){
    var html = "";
    var limit = 4;
    offers = (offers && offers.length) ? offers.slice(0, limit) : [];
    
    if(!offers.length){
      html = '<div style="padding:18px;color:#d0d0d0">Tidak ada penawaran. Coba refresh.</div>';
      document.getElementById('offerSlider').innerHTML = html;
      return;
    }

    cardCount = offers.length;
    
    offers.forEach(function(offer, idx){
      var title = offer.anchor || "Offer";
      var conv = offer.conversion || "Complete the task";
      var cat = offer.category || "Offer";

      html += '<a class="offer-card" href="'+(offer.url||'#')+'" target="_blank" rel="noopener noreferrer" data-index="'+idx+'">';
      html += '  <span class="tag">'+escapeHtml(cat)+'</span>';
      html += '  <div>';
      html += '    <h3>'+escapeHtml(title)+'</h3>';
      html += '    <p>'+escapeHtml(conv)+'</p>';
      html += '  </div>';
      html += '  <div style="display:flex;justify-content:center;margin-top:12px"><span class="btn-action">Open</span></div>';
      html += '</a>';
    });

    document.getElementById('offerSlider').innerHTML = html;
    sliderElement = document.getElementById('offerSlider');
    
    // Initialize swipe indicators
    updateSwipeIndicators();
    
    // Calculate card dimensions for navigation
    setTimeout(function() {
      if (sliderElement && sliderElement.children.length > 0) {
        cardWidth = sliderElement.children[0].offsetWidth;
      }
    }, 100);
    
    // Attach event handlers
    attachOfferClickHandlers();
    attachNavigationHandlers();
  }

  function updateSwipeIndicators() {
    const indicatorContainer = document.getElementById('swipeIndicator');
    indicatorContainer.innerHTML = '';
    
    for (let i = 0; i < cardCount; i++) {
      const dot = document.createElement('div');
      dot.className = 'swipe-dot';
      if (i === 0) dot.classList.add('active');
      indicatorContainer.appendChild(dot);
    }
  }

  function updateActiveDot() {
    const dots = document.querySelectorAll('.swipe-dot');
    dots.forEach((dot, index) => {
      if (index === currentCardIndex) {
        dot.classList.add('active');
      } else {
        dot.classList.remove('active');
      }
    });
  }

  function escapeHtml(s){
    return String(s||'').replace(/[&<>"']/g, function(m){ 
      return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]; 
    });
  }

  // call feed
  $.getJSON(feedUrl, function(data){
    renderOffers(data || []);
  }).fail(function(){
    renderOffers([]);
  });

  // attach click to unlock overlay (after render)
  function attachOfferClickHandlers(){
    var slider = document.getElementById('offerSlider');
    var cards = slider.querySelectorAll('.offer-card');
    
    cards.forEach(function(card){
      card.addEventListener('click', function (e) {
        // Create unlock animation
        createUnlockAnimation();
        
        // Unlock behaviour: remove overlay blur and hide locker
        // Keep default link behaviour (opens in new tab), but also unlock UI immediately.
        unlockContent();
        
        // Show notification
        showToast("Congratulations");
        
        // allow navigation to proceed normally (target _blank)
      }, {passive:true});
    });
  }

  // Navigation button handlers
  function attachNavigationHandlers() {
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    
    if (prevBtn) {
      prevBtn.addEventListener('click', function() {
        navigateToCard(currentCardIndex - 1);
      });
    }
    
    if (nextBtn) {
      nextBtn.addEventListener('click', function() {
        navigateToCard(currentCardIndex + 1);
      });
    }
  }

  function navigateToCard(index) {
    // Ensure index is within bounds
    if (index < 0) index = 0;
    if (index >= cardCount) index = cardCount - 1;
    
    if (index === currentCardIndex) return; // Already at this card
    
    currentCardIndex = index;
    updateActiveDot();
    
    // Calculate scroll position
    const scrollPosition = index * (cardWidth + gapWidth);
    
    // Scroll to the card
    if (sliderElement) {
      sliderElement.scrollTo({
        left: scrollPosition,
        behavior: 'smooth'
      });
    }
  }

  // unlock function
  function unlockContent(){
    var overlay = document.getElementById('lockerOverlay');
    var secret = document.getElementById('secret-content');

    // animate blur out
    if(secret){
      secret.style.filter = 'blur(0px)';
      secret.style.opacity = '1';
    }

    // hide overlay
    if(overlay){
      overlay.style.transition = 'opacity .45s ease, transform .45s ease';
      overlay.style.opacity = '0';
      overlay.style.transform = 'translateY(-18px)';
      setTimeout(function(){ 
        overlay.classList.add('hidden'); 
        overlay.setAttribute('aria-hidden','true'); 
      }, 480);
    }
  }

  // create unlock animation
  function createUnlockAnimation() {
    const locker = document.getElementById('my-locker');
    const unlockAnim = document.createElement('div');
    unlockAnim.className = 'unlock-animation';
    locker.appendChild(unlockAnim);
    
    setTimeout(() => {
      locker.removeChild(unlockAnim);
    }, 800);
  }

  // show toast notification
  function showToast(message) {
    const toast = document.getElementById('toast');
    toast.textContent = message;
    toast.classList.add('show');
    
    setTimeout(() => {
      toast.classList.remove('show');
    }, 3000);
  }

  // optional: allow pressing ESC to close overlay (unlock)
  document.addEventListener('keydown', function(ev){
    if(ev.key === 'Escape'){
      createUnlockAnimation();
      unlockContent();
      showToast("Konten berhasil dibuka!");
    }
  });

  // enhanced scroll handlers for swipe indicators
  function attachScrollHandlers() {
    const slider = document.getElementById('offerSlider');
    
    slider.addEventListener('scroll', function() {
      // Calculate which card is most visible
      const cards = slider.querySelectorAll('.offer-card');
      const sliderRect = slider.getBoundingClientRect();
      
      let maxVisible = 0;
      let maxVisibleIndex = 0;
      
      cards.forEach((card, index) => {
        const cardRect = card.getBoundingClientRect();
        const visibleWidth = Math.min(cardRect.right, sliderRect.right) - 
                            Math.max(cardRect.left, sliderRect.left);
        
        if (visibleWidth > maxVisible) {
          maxVisible = visibleWidth;
          maxVisibleIndex = index;
        }
      });
      
      if (maxVisibleIndex !== currentCardIndex) {
        currentCardIndex = maxVisibleIndex;
        updateActiveDot();
      }
    });
  }
})();

/* ========== enhanced drag-to-scroll (desktop) ========== */
(function(){
  const slider = document.querySelector('.offer-slider');
  if(!slider) return;
  
  let isDown = false, startX=0, scrollLeft=0, velocity=0, momentumID;
  
  slider.addEventListener('mousedown', function(e){
    isDown = true;
    slider.classList.add('active');
    slider.style.cursor = 'grabbing';
    startX = e.pageX - slider.offsetLeft;
    scrollLeft = slider.scrollLeft;
    velocity = 0;
    cancelMomentumTracking();
    e.preventDefault();
  });
  
  slider.addEventListener('mouseleave', function(){ 
    isDown=false; 
    slider.classList.remove('active');
    slider.style.cursor = 'grab';
  });
  
  slider.addEventListener('mouseup', function(){ 
    isDown=false; 
    slider.classList.remove('active');
    slider.style.cursor = 'grab';
    beginMomentumTracking();
  });
  
  slider.addEventListener('mousemove', function(e){
    if(!isDown) return;
    e.preventDefault();
    const x = e.pageX - slider.offsetLeft;
    const walk = (x - startX) * 2.2; // Increased sensitivity
    const prevScrollLeft = slider.scrollLeft;
    slider.scrollLeft = scrollLeft - walk;
    velocity = slider.scrollLeft - prevScrollLeft;
  });

  // Momentum scrolling
  function beginMomentumTracking() {
    cancelMomentumTracking();
    momentumID = requestAnimationFrame(momentumLoop);
  }
  
  function cancelMomentumTracking() {
    cancelAnimationFrame(momentumID);
  }
  
  function momentumLoop() {
    slider.scrollLeft += velocity;
    velocity *= 0.95; // Deceleration
    
    if (Math.abs(velocity) > 0.5) {
      momentumID = requestAnimationFrame(momentumLoop);
    } else {
      // Snap to nearest card when momentum stops
      snapToNearestCard();
    }
  }
  
  function snapToNearestCard() {
    const cards = slider.querySelectorAll('.offer-card');
    const sliderRect = slider.getBoundingClientRect();
    
    let closestCard = null;
    let closestDistance = Infinity;
    
    cards.forEach(card => {
      const cardRect = card.getBoundingClientRect();
      const cardCenter = cardRect.left + cardRect.width / 2;
      const sliderCenter = sliderRect.left + sliderRect.width / 2;
      const distance = Math.abs(cardCenter - sliderCenter);
      
      if (distance < closestDistance) {
        closestDistance = distance;
        closestCard = card;
      }
    });
    
    if (closestCard) {
      const cardRect = closestCard.getBoundingClientRect();
      const sliderRect = slider.getBoundingClientRect();
      const targetScrollLeft = slider.scrollLeft + cardRect.left - sliderRect.left - 
                               (sliderRect.width - cardRect.width) / 2;
      
      slider.scrollTo({
        left: targetScrollLeft,
        behavior: 'smooth'
      });
    }
  }

  // touch support (enhanced)
  let touchStartX = 0, touchScrollLeft = 0, touchVelocity = 0;
  
  slider.addEventListener('touchstart', function(e){
    touchStartX = e.touches[0].pageX - slider.offsetLeft;
    touchScrollLeft = slider.scrollLeft;
    touchVelocity = 0;
    cancelMomentumTracking();
  }, {passive:true});
  
  slider.addEventListener('touchmove', function(e){
    const x = e.touches[0].pageX - slider.offsetLeft;
    const walk = (x - touchStartX) * 1.8; // Increased sensitivity
    const prevScrollLeft = slider.scrollLeft;
    slider.scrollLeft = touchScrollLeft - walk;
    touchVelocity = slider.scrollLeft - prevScrollLeft;
  }, {passive:true});
  
  slider.addEventListener('touchend', function(){
    // Apply momentum and snap
    if (Math.abs(touchVelocity) > 1) {
      momentumID = requestAnimationFrame(function momentumLoop() {
        slider.scrollLeft += touchVelocity;
        touchVelocity *= 0.92; // Deceleration
        
        if (Math.abs(touchVelocity) > 0.5) {
          momentumID = requestAnimationFrame(momentumLoop);
        } else {
          snapToNearestCard();
        }
      });
    } else {
      snapToNearestCard();
    }
  }, {passive:true});
})();

/* ========== COUNTDOWN TIMER ========== */
(function() {
  // Set countdown duration in seconds (5 minutes for example)
  const countdownDuration = 300; // 5 minutes in seconds
  let timeRemaining = countdownDuration;
  let countdownInterval;
  
  const timerElement = document.getElementById('countdownTimer');
  const progressBar = document.getElementById('countdownProgress');
  
  function updateCountdown() {
    // Calculate minutes and seconds
    const minutes = Math.floor(timeRemaining / 60);
    const seconds = timeRemaining % 60;
    
    // Format time as MM:SS
    const formattedTime = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    
    // Update timer display
    if (timerElement) {
      timerElement.textContent = formattedTime;
    }
    
    // Update progress bar
    if (progressBar) {
      const progressPercent = (timeRemaining / countdownDuration) * 100;
      progressBar.style.width = `${progressPercent}%`;
    }
    
    // Decrement time
    timeRemaining--;
    
    // Check if countdown has finished
    if (timeRemaining < 0) {
      clearInterval(countdownInterval);
      // Reset countdown or perform other action
      timeRemaining = countdownDuration;
      countdownInterval = setInterval(updateCountdown, 1000);
    }
  }
  
  // Start countdown
  countdownInterval = setInterval(updateCountdown, 1000);
  
  // Initial update
  updateCountdown();
})();
</script>
</body>

 <!-- Histats.com  START  (aync)-->
<script type="text/javascript">var _Hasync= _Hasync|| [];
_Hasync.push(['Histats.start', '1,4781172,4,0,0,0,00010000']);
_Hasync.push(['Histats.fasi', '1']);
_Hasync.push(['Histats.track_hits', '']);
(function() {
var hs = document.createElement('script'); hs.type = 'text/javascript'; hs.async = true;
hs.src = ('//s10.histats.com/js15_as.js');
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(hs);
})();</script>
<noscript><a href="/" target="_blank"><img  src="//sstatic1.histats.com/0.gif?4781172&101" alt="" border="0"></a></noscript>
<!-- Histats.com  END  -->

</html>
